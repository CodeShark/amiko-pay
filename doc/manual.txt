Settings
========

Before starting amiko-pay, please have a look at the file amikopay.conf.
Change the settings in this file to your preferred settings before starting
Amiko Pay. By default, Amiko Pay searches for amikopay.conf in the current
working directory (".").

When starting Amiko Pay, you can use commandline parameters to override the
settings in amikopay.conf. For instance, you can use the following to
override the linksdir setting in the files section:

amikopay files.linksdir=/home/me/amiko-links

As a special setting, you can override the location where Amiko Pay searches
for amikopay.conf:

amikopay files.conffile=/home/me/amikopay.conf

These settings overrides are only used in the Amiko Pay process that was started
with the command in which the overrides were specified: they will not be stored
anywhere.


Commands
========

When started, Amiko Pay presents a command prompt to the user. Use the "help"
command to get a list of available commands. The "exit" and "quit" commands can
be used to terminate Amiko Pay.

Command arguments are separated by whitespace. To enter a command argument that
includes whitespace (spaces, newline etc.), surround it with double quotes.
For instance, for a multiline receipt argument in addpaymentrequest:

> addpaymentrequest 1.0 "
... You owe me one Bitcoin.
... You borrowed it from me last week, and I want it back.
... "


Making new payment links
------------------------

Scenario: A and B want to establish a payment link.

Step 1:
A calls the "newlink" command without arguments.
The result is an amikolink URL.

Note that A can now see the link information with the "listlinks" command.
The link is not yet connected or completed. 

Step 2:
A gives the amikolink URL to B.

Step 3:
B calls the "newlink" command with the amikolink URL as argument.

Note that A can now see the link information with the "listlinks"
command.

Step 4 (optional):
B gives his own local amikolink URL to A, and A associates this URL with
the link with the "setremoteuri" command. This is useful if A can connect to B,
but B can not connect to A. Both sides will continuously try to connect to each
other, but they can only do so if they have the URL of the other side, and if
the network allows establishing a connection.

As soon as a connection can be established between the amikopay processes of
A and B, the link will be connected and completed.

Link information (including private keys!) is stored in the directory specified
in the preferences.


Performing a payment
--------------------

Scenario: A wishes to receive a payment from B.

Step 1:
A calls the "addpaymentrequest" command, with as arguments
* the amount to be received
* (optionally) a receipt
The result is an amikopay URL.

Step 2:
A gives the amikopay URL to B.

Step 3:
B calls the "pay" command with the amikopay URL as argument.
Now, Amiko Pay shows the receipt and the amount to B, and asks B to confirm the
payment.

If B confirms the payment, the payment is performed.

Note: implementation of payments is not yet finished, so this does not yet work.


Diagnostics
-----------

Amiko Pay writes diagnostics information to a file "debug.log" in the current
directory (".").

